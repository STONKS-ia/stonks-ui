(this["webpackJsonpstonks-ui"]=this["webpackJsonpstonks-ui"]||[]).push([[5],{138:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(11),r=a.n(s),i=(a(98),a(4)),o=a.n(i),l=a(6),u=a(5),d=a(57),j=a.n(d),b=j.a.create({baseURL:"https://stonks-core-api.herokuapp.com/"}),p=a(1),m=Object(n.createContext)({}),h=function(e){var t=e.children,a=Object(n.useState)((function(){var e=localStorage.getItem("@Elit:token"),t=localStorage.getItem("@Elit:name"),a=localStorage.getItem("@Elit:roles"),n=localStorage.getItem("@Elit:city");return e&&t&&a&&n?{token:e,name:t,roles:a,cityId:n}:{}})),c=Object(u.a)(a,2),s=c[0],r=c[1],i=Object(n.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c,s,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.login,n=t.password,e.next=3,b.post("/stonks/login",{login:a,password:n});case 3:c=e.sent,s=c.data,i=s.token,l=s.name,u=s.roles,d=s.cityId,localStorage.setItem("@Elit:token",i),localStorage.setItem("@Elit:name",l),localStorage.setItem("@Elit:roles",u),localStorage.setItem("@Elit:city",d),r({token:i,name:l,roles:u,cityId:d});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),d=Object(n.useCallback)((function(){localStorage.removeItem("@Elit:token"),localStorage.removeItem("@Elit:name"),localStorage.removeItem("@Elit:roles"),localStorage.removeItem("@Elit:city"),r({})}),[]);return Object(p.jsx)(m.Provider,{value:{name:s.name,roles:s.roles,token:s.token,cityId:s.cityId,singIn:i,signOut:d},children:t})};function O(){var e=Object(n.useContext)(m);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var x=function(e){var t=e.children;return Object(p.jsx)(h,{children:t})},f=a(8),_=a(13),v=a.p+"static/media/logo.090f2b5b.svg",g=a(19),E=a.n(g);var S=function(){var e=O(),t=e.name,a=e.roles,c=e.signOut,s=Object(n.useState)(!1),r=Object(u.a)(s,2),i=r[0],d=r[1],j=Object(n.useState)(!1),b=Object(u.a)(j,2),m=b[0],h=b[1],x=Object(n.useState)(!1),g=Object(u.a)(x,2),S=g[0],y=g[1],k=Object(_.g)();return Object(n.useEffect)((function(){d(!!t),h("ROLE_ADMIN"===a)}),[t,a]),Object(p.jsxs)("nav",{className:E.a.navbar,children:[Object(p.jsx)(f.c,{to:"/",children:Object(p.jsx)("img",{src:v,alt:"logo"})}),Object(p.jsxs)("ul",{className:E.a.navbarList,children:[Object(p.jsx)(f.c,{to:"/apis",activeClassName:E.a.active,children:Object(p.jsx)("li",{className:E.a.item,children:"Api"})}),Object(p.jsx)(f.c,{to:"/cities",activeClassName:E.a.active,children:Object(p.jsx)("li",{className:E.a.item,children:"Municipios"})}),m&&Object(p.jsx)(f.c,{to:"/users",activeClassName:E.a.active,children:Object(p.jsx)("li",{className:E.a.item,children:"Usu\xe1rios"})}),Object(p.jsx)(f.c,{to:"/about",activeClassName:E.a.active,children:Object(p.jsx)("li",{className:E.a.item,children:"Fale Conosco"})}),!i&&Object(p.jsx)(f.c,{to:"/login",activeClassName:E.a.active,children:Object(p.jsx)("li",{className:E.a.item,id:E.a.btnLogin,children:"Login"})}),i&&Object(p.jsxs)("li",{className:E.a.item,onClick:function(){return y(!S)},children:[Object(p.jsx)("i",{className:"far  fa-user-circle fa-lg"}),t,Object(p.jsx)("i",{className:S?"fas fa-chevron-up fa-xs":"fas fa-chevron-down fa-xs"}),S&&Object(p.jsx)("button",{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:k.push("/");case 3:case"end":return e.stop()}}),e)}))),children:"Logout"})]})]})]})},y=a(29),k=a.n(y),N=a.p+"static/media/aboutImg.e941d689.svg",C=function(){return Object(p.jsxs)("div",{className:k.a.about,children:[Object(p.jsx)("img",{className:k.a.imagem,src:N,alt:"yes"}),Object(p.jsxs)("div",{className:k.a.information,children:[Object(p.jsx)("h2",{children:"Contato"}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{className:k.a.itemList,children:[Object(p.jsx)("b",{children:"Endere\xe7o:"})," Pr\xe9dio Sede 7\xba andar"]}),Object(p.jsxs)("li",{className:k.a.itemList,children:[Object(p.jsx)("b",{children:"Ouvidoria: "}),Object(p.jsx)("a",{href:"http://www4.tce.sp.gov.br/ouvidoria",children:" www4.tce.sp.gov.br/ouvidoria "})]}),Object(p.jsxs)("li",{className:k.a.itemList,children:[Object(p.jsx)("b",{children:"Central de Atendimento:"})," 0800 8007575"]}),Object(p.jsxs)("li",{className:k.a.itemList,children:[Object(p.jsx)("b",{children:"WhatsApp:"})," (11)99508.7638"]}),Object(p.jsxs)("li",{className:k.a.itemList,children:[Object(p.jsx)("b",{children:"Email:"})," ouvidoria@tce.sp.gov.br"]})]})]})]})},P=a(43),T=a(17),A=a(15),w=a(10),R=a(47),L=a(53),U=["name","label"];function I(e){var t=e.name,a=e.label,c=Object(R.a)(e,U),s=Object(n.useRef)(null),r=Object(L.c)(t),i=r.fieldName,o=r.defaultValue,l=void 0===o?"":o,u=r.registerField,d=r.error;return Object(n.useEffect)((function(){u({name:i,ref:s.current,path:"value"})}),[i,u]),Object(p.jsxs)(p.Fragment,{children:[a&&Object(p.jsx)("label",{htmlFor:i,children:a}),Object(p.jsx)("input",Object(w.a)({ref:s,id:i,defaultValue:l},c)),d&&Object(p.jsx)("span",{style:{color:"#ff3333"},children:d})]})}a(54);var F=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.b.success(t,{theme:"colored",position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=F,B=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.b.error(t,{theme:"colored",position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=B,H=a(85),K=a(50),V={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://stonks-core-api.herokuapp.com/"}).REACT_APP_FIREBASE_MEASUREMENT_ID},W=Object(H.a)(V),q=Object(K.b)(W,"gs://stonks-59b6f.appspot.com"),z=(a(65),a(48)),J=a.n(z),G=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(u.a)(s,2),i=r[0],d=r[1],j=Object(n.useState)(!1),m=Object(u.a)(j,2),h=m[0],x=m[1],f=Object(n.useState)(),v=Object(u.a)(f,2),g=v[0],E=v[1],S=Object(_.g)(),y=O(),k=y.token,N=y.signOut,C=Object(n.useRef)(null),w=Object(_.h)().id;Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/stonks/cities/".concat(w)).then((function(e){var t,a=e.data.result[0],n=a.name,c=a.originalPortalUrl,s=a.imgUrl;null===(t=C.current)||void 0===t||t.setData({cityName:n,cityUrlPortal:c}),d(s),E(s)}));case 3:e.next=17;break;case 5:if(e.prev=5,e.t0=e.catch(0),!e.t0.response){e.next=17;break}if(403!==e.t0.response.status){e.next=15;break}return e.next=11,N();case 11:setTimeout((function(){M("Token has expired, please logon again")}),2e3),setTimeout((function(){S.push("/login")}),2500),e.next=16;break;case 15:e.t0.request?(console.log(e.t0.request),M("Error ".concat(e.t0.request))):M("Error ".concat(e.t0.message));case 16:case 17:case 18:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}w?function(){e.apply(this,arguments)}():w=0}),[w]);var R=Object(n.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files&&(c(t.target.files[0]),d(URL.createObjectURL(t.target.files[0])));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),L=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(t={contentType:a.type},n=Object(K.c)(q,"images/".concat(a.name)),(c=Object(K.d)(n,a,t)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){console.log(e)}),(function(){Object(K.a)(c.snapshot.ref).then((function(e){E(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,L();case 3:if(!g){e.next=28;break}return e.prev=4,a={headers:{Authorization:"Bearer ".concat(k)}},console.log(w),e.next=9,b.post("/stonks/cities/save?id=".concat(w),{name:t.cityName,originalPortalUrl:t.cityUrlPortal,imgUrl:g},a);case 9:x(!1),D("Cidade cadastrada com sucesso"),S.push("/cities"),e.next=27;break;case 14:if(e.prev=14,e.t0=e.catch(4),!e.t0.response){e.next=27;break}if(x(!1),403!==e.t0.response.status){e.next=25;break}return e.next=21,N;case 21:setTimeout((function(){M("Token has expired, please logon again")}),2e3),setTimeout((function(){S.push("/login")}),2500),e.next=26;break;case 25:e.t0.request?(console.log(e.t0.request),M("Error ".concat(e.t0.request))):M("Error ".concat(e.t0.message));case 26:case 27:case 28:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{}),Object(p.jsxs)(P.a,{ref:C,onSubmit:U,className:"form",id:J.a.divNewCity,children:[Object(p.jsxs)("h3",{children:[w?"Editar":"Novo"," Munic\xedpio"]}),Object(p.jsx)(I,{name:"cityName",placeholder:"Nome municipio",type:"text",className:"inputField",id:J.a.txtCity}),Object(p.jsx)(I,{name:"cityUrlPortal",placeholder:"Link do portal de transpar\xeancia",type:"text",className:"inputField",id:J.a.txtURL}),Object(p.jsxs)("section",{id:J.a.imageArea,children:[i&&Object(p.jsx)("img",{src:i,alt:"Preview"}),Object(p.jsx)("label",{htmlFor:"imgInput",children:"Upload Image"}),Object(p.jsx)("input",{type:"file",id:"imgInput",accept:"image/png, image/jpeg, image/jpg",onChange:R})]}),Object(p.jsx)(A.a,{type:"submit",iconPos:"right",loading:h,id:J.a.btnCadastrar,children:w?"Salvar":"Cadastrar"})]})]})},X=a(26),Y=a(46),Q=a(45),Z=a(86),$=a(31),ee=a(39),te=a.n(ee),ae=(a(66),a(67),a(68),a(69),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(),i=Object(u.a)(r,2),d=i[0],j=i[1],m=Object(n.useState)(!1),h=Object(u.a)(m,2),x=h[0],f=h[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),E=g[0],S=g[1],y=O(),k=y.token,N=y.signOut,C=Object(_.g)(),P={headers:{Authorization:"Bearer ".concat(k)}};Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/stonks/users",P);case 3:return t=e.sent,setTimeout((function(){D("Usu\xe1rios carregado"),S(!1)}),2e3),a=t.data.result,e.abrupt("return",s(a));case 9:if(e.prev=9,e.t0=e.catch(0),403!==e.t0.response.status){e.next=18;break}return e.next=14,N();case 14:setTimeout((function(){M("Token has expired, please logon again"),S(!1)}),2e3),setTimeout((function(){C.push("/login")}),2500),e.next=19;break;case 18:e.t0.request?(console.log(e.t0.request),setTimeout((function(){M("Error ".concat(e.t0.request)),S(!1)}),2e3)):setTimeout((function(){M("Error ".concat(e.t0.message)),S(!1)}),2e3);case 19:case 20:case 21:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}S(!0),function(){e.apply(this,arguments)}()}),[]);var w=function(){f(!1)},R=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=21;break}return e.prev=1,e.next=4,b.delete("stonks/users/".concat(d.userId),P);case 4:f(!1),D("Usuario ".concat(d.fullName," deletado com sucesso")),e.next=20;break;case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response){e.next=20;break}if(403!==e.t0.response.status){e.next=18;break}return e.next=14,N();case 14:setTimeout((function(){M("Token has expired, please logon again")}),2e3),setTimeout((function(){C.push("/login")}),2500),e.next=19;break;case 18:e.t0.request?(console.log(e.t0.request),M("Error ".concat(e.t0.request))):M("Error ".concat(e.t0.message));case 19:case 20:case 21:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),L=Object(p.jsxs)(c.a.Fragment,{children:[Object(p.jsx)(A.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:w}),Object(p.jsx)(A.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:R})]});return Object(p.jsxs)("section",{className:te.a.userContainer,children:[Object(p.jsx)(T.a,{}),Object(p.jsx)("p",{className:te.a.title,children:"Lista de Usu\xe1rios"}),Object(p.jsx)(A.a,{label:"Novo Usuario",icon:"pi pi-plus",id:te.a.btn,className:"p-button p-mr-2",onClick:function(){C.push("/save/users")}}),E?Object(p.jsx)($.a,{className:te.a.custom,children:Object(p.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100%",height:"70%"})}):Object(p.jsx)(Q.a,{className:te.a.custom,children:Object(p.jsxs)(Y.a,{value:a,paginator:!0,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:6,className:te.a.table,children:[Object(p.jsx)(X.a,{headerStyle:{width:"3rem"}}),Object(p.jsx)(X.a,{style:{textAlign:"center"},field:"fullName",header:"Nome completo",sortable:!0}),Object(p.jsx)(X.a,{style:{textAlign:"center"},field:"email",header:"Email",sortable:!0}),Object(p.jsx)(X.a,{style:{textAlign:"center"},field:"login",header:"Usu\xe1rio",sortable:!0}),Object(p.jsx)(X.a,{style:{textAlign:"center"},field:"phone",header:"Telefone",sortable:!0}),Object(p.jsx)(X.a,{style:{textAlign:"center"},field:"city",header:"Munic\xedpio relacionado",sortable:!0}),Object(p.jsx)(X.a,{style:{textAlign:"center"},field:"roles",header:"Tipo de usu\xe1rio",sortable:!0}),Object(p.jsx)(X.a,{style:{textAlign:"right"},header:"Action",body:function(e){return Object(p.jsxs)(c.a.Fragment,{children:[Object(p.jsx)(A.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){console.log(e),C.push("/save/users/".concat(e.userId))}(e)}}),Object(p.jsx)(A.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){j(e),f(!0)}(e)}})]})}})]})}),Object(p.jsx)(Z.a,{visible:x,style:{width:"450px"},header:"Delete confirmation",modal:!0,footer:L,onHide:w,children:Object(p.jsxs)("div",{className:"confirmation-content",style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[Object(p.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),d&&Object(p.jsxs)("span",{children:["Are you sure you want to delete ",Object(p.jsx)("b",{children:d.fullName}),"?"]})]})})]})}),ne=a(37),ce=a(33),se=a.n(ce);var re=function(e){return Object(w.a)(Object(w.a)({},e),{},{colors:Object(w.a)(Object(w.a)({},e.colors),{},{primary25:"rgba(255,255,255,0)",primary:"#00bb76"})})},ie={option:function(e,t){return Object(w.a)(Object(w.a)({},e),{},{color:t.isSelected?"white":"black",padding:20,cursor:"pointer"})},menu:function(e){return Object(w.a)(Object(w.a)({},e),{},{zIndex:9999})},control:function(e){return Object(w.a)(Object(w.a)({},e),{},{backgroundColor:"transparent",border:"none",cursor:"pointer"})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(w.a)(Object(w.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}},oe=function(){var e=Object(_.h)().id,t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],s=a[1],r=O(),i=r.token,d=r.signOut,j=Object(_.g)(),m=Object(n.useState)(),h=Object(u.a)(m,2),x=h[0],f=h[1],v=Object(n.useState)(),g=Object(u.a)(v,2),E=g[0],S=g[1],y=Object(n.useState)([]),k=Object(u.a)(y,2),N=k[0],C=k[1],A=Object(n.useState)(),w=Object(u.a)(A,2),R=w[0],L=w[1],U=Object(n.useState)(),F=Object(u.a)(U,2),B=F[0],H=F[1],K=Object(n.useRef)(null),V={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}};Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/stonks/cities");case 3:t=e.sent,a=t.data.result,s(a),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){!function(){var e=[];c.forEach((function(t){var a={value:t.cityId,label:t.name};e.push(a)})),C(e)}()}),[c]),Object(n.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.get("/stonks/users/".concat(e),V).then((function(e){var t,a=e.data.result[0],n=a.email,c=a.fullName,s=a.phone,r=a.roles,i=a.city;null===(t=K.current)||void 0===t||t.setData({email:n,username:c,phone:s}),S("ROLE_ADMIN"===r?"Administrador":"Usuario comum"),f(i?i.name:"Nenhuma cidade vinculada")}));case 3:t.next=17;break;case 5:if(t.prev=5,t.t0=t.catch(0),!t.t0.response){t.next=17;break}if(403!==t.t0.response.status){t.next=15;break}return t.next=11,d();case 11:setTimeout((function(){M("Token has expired, please logon again")}),2e3),setTimeout((function(){j.push("/login")}),2500),t.next=16;break;case 15:t.t0.request?(console.log(t.t0.request),M("Error ".concat(t.t0.request))):M("Error ".concat(t.t0.message));case 16:case 17:case 18:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}e&&function(){t.apply(this,arguments)}()}),[e,j,d]);var W=function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,null===(n=K.current)||void 0===n||n.setErrors({}),e?b.put("/stonks/users/save?id=".concat(e),{id:e,email:a.email,fullName:a.username,phone:a.phone,login:a.username},V):b.post("/stonks/users/save?roles=".concat(R),{email:a.email,fullName:a.username,phone:a.phone,login:a.username,password:a.password,city:{cityId:B}},V),D("Usuario criado com sucesso"),j.push("/users"),t.next=19;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=19;break}if(403!==t.t0.response.status){t.next=17;break}return t.next=13,d();case 13:setTimeout((function(){M("Token has expired, please logon again")}),2e3),setTimeout((function(){j.push("/login")}),2500),t.next=18;break;case 17:t.t0.request?(console.log(t.t0.request),M("Error ".concat(t.t0.request))):M("Error ".concat(t.t0.message));case 18:case 19:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{}),Object(p.jsxs)(P.a,{ref:K,onSubmit:W,className:"form",id:se.a.divNewUser,children:[Object(p.jsxs)("h3",{children:[e?"Editar":"Novo"," Usuario"]}),Object(p.jsx)(I,{name:"username",type:"text",className:"inputField",id:se.a.txtUser,placeholder:"Usu\xe1rio"}),Object(p.jsx)(I,{name:"email",type:"text",className:"inputField",id:se.a.txtEmail,placeholder:"Email"}),e?Object(p.jsx)(p.Fragment,{}):Object(p.jsx)(I,{name:"password",type:"password",className:"inputField",id:se.a.txtPass,placeholder:"Senha"}),Object(p.jsx)(I,{name:"phone",type:"text",className:"inputField",id:se.a.txtPhone,placeholder:"Telefone"}),e?Object(p.jsx)("p",{className:"inputField",children:x}):Object(p.jsx)(ne.a,{name:"cityUser",id:se.a.select,options:N,onChange:function(e){return H(e.value)},placeholder:"Selecione uma cidade",isSearchable:!0}),e?Object(p.jsx)("p",{className:"inputField",children:E}):Object(p.jsx)(ne.a,{name:"roleUser",id:se.a.select,theme:re,styles:ie,options:[{value:"ROLE_USER",label:"Usu\xe1rio comum"},{value:"ROLE_ADMIN",label:"Administrador"}],placeholder:"Selecione tipo de usuario",onChange:function(e){return L(e.value)},isSearchable:!1}),Object(p.jsx)("button",{type:"submit",className:"btnEntrar",id:"btnCadastrar",children:e?"Salvar":"Cadastrar"})]})]})},le=a(20),ue=a.n(le);var de=function(){var e=Object(n.useState)(1),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(p.jsxs)("section",{className:ue.a.navbar,children:[Object(p.jsx)("h1",{children:"API\u2019S"}),Object(p.jsxs)("ul",{className:ue.a.lista,children:[Object(p.jsx)("li",{className:1===a?ue.a.active:ue.a.inactive,children:Object(p.jsx)(f.b,{onClick:function(){c(1)},className:ue.a.ancor,id:ue.a.linkDespesas,to:"/apis/",children:"DESPESAS"})}),Object(p.jsx)("li",{className:2===a?ue.a.active:ue.a.inactive,children:Object(p.jsx)(f.b,{onClick:function(){c(2)},className:ue.a.ancor,id:ue.a.linkReceitas,to:"/apis/receitas",children:"RECEITAS"})}),Object(p.jsx)("li",{className:3===a?ue.a.active:ue.a.inactive,children:Object(p.jsx)(f.b,{onClick:function(){c(3)},className:ue.a.ancor,id:ue.a.linkMunicipios,to:"/apis/municipios",children:"MUNICIPIOS"})})]})]})},je=a(18),be=a.n(je),pe=function(){return Object(p.jsxs)("div",{id:be.a.content,children:[Object(p.jsx)("h2",{children:"Despesas"}),Object(p.jsx)("p",{id:be.a.description,children:"Exibe informa\xe7\xf5es sobre despesas detalhadas dos Munic\xedpios jurisdiconados ao TCESP com as informa\xe7\xf5es descritas abaixo."}),Object(p.jsx)("div",{id:be.a.table,children:Object(p.jsx)("table",{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Caminho: "}),Object(p.jsx)("td",{children:"https://transparencia.tce.sp.gov.br/api/{formato}/despesas/{municipio}/{exerc\xedcio}/{m\xeas}"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Exemplo:"}),Object(p.jsx)("td",{children:Object(p.jsx)("a",{id:"link-exemplo",href:"https://transparencia.tce.sp.gov.br/api/json/despesas/balsamo/2015/1",children:"https://transparencia.tce.sp.gov.br/api/json/despesas/balsamo/2015/1"})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"M\xe9todo:"}),Object(p.jsx)("td",{children:"GET"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Formato:"}),Object(p.jsx)("td",{children:"json e xml"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Munic\xedpio:"}),Object(p.jsx)("td",{children:"https://transparencia.tce.sp.gov.br/api/{formato}/municipios"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Exerc\xedcio:"}),Object(p.jsx)("td",{children:"2014-2019"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"M\xeas:"}),Object(p.jsx)("td",{children:"1-12"})]})]})})})]})},me=function(){return Object(p.jsxs)("div",{id:be.a.content,children:[Object(p.jsx)("h2",{children:"Receitas"}),Object(p.jsx)("p",{id:be.a.description,children:"Exibe informa\xe7\xf5es sobre as receitas dos Munic\xedpios jurisdiconados ao TCESP com as informa\xe7\xf5es descritas abaixo."}),Object(p.jsx)("div",{id:be.a.table,children:Object(p.jsx)("table",{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Caminho: "}),Object(p.jsx)("td",{children:"https://transparencia.tce.sp.gov.br/api/{formato}/receitas/{municipio}/{exerc\xedcio}/{m\xeas}"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Exemplo:"}),Object(p.jsx)("td",{children:Object(p.jsx)("a",{id:"link-exemplo",href:"https://transparencia.tce.sp.gov.br/api/xml/receitas/balsamo/2015/1",children:"https://transparencia.tce.sp.gov.br/api/xml/receitas/balsamo/2015/1"})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"M\xe9todo:"}),Object(p.jsx)("td",{children:"GET"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Formato:"}),Object(p.jsx)("td",{children:"json e xml"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Munic\xedpio:"}),Object(p.jsx)("td",{children:"https://transparencia.tce.sp.gov.br/api/{formato}/municipios"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Exerc\xedcio:"}),Object(p.jsx)("td",{children:"2014-2019"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"M\xeas:"}),Object(p.jsx)("td",{children:"1-12"})]})]})})})]})},he=function(){return Object(p.jsxs)("div",{id:be.a.content,children:[Object(p.jsx)("h2",{children:"Munic\xedpios"}),Object(p.jsx)("p",{id:be.a.description,children:"Exibe a lista de Munic\xedpios jurisdicionados ao TCESP"}),Object(p.jsx)("div",{id:be.a.table,children:Object(p.jsx)("table",{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Caminho XML: "}),Object(p.jsx)("td",{children:Object(p.jsx)("a",{className:be.a.linkExemplo,href:"https://transparencia.tce.sp.gov.br/api/json/despesas/balsamo/2015/1",children:"https://transparencia.tce.sp.gov.br/api/json/despesas/balsamo/2015/1"})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Caminho JSON: "}),Object(p.jsx)("td",{children:Object(p.jsx)("a",{className:be.a.linkExemplo,href:"https://transparencia.tce.sp.gov.br/api/json/municipios",children:"https://transparencia.tce.sp.gov.br/api/json/municipios"})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"M\xe9todo:"}),Object(p.jsx)("td",{children:"GET"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Formato:"}),Object(p.jsx)("td",{children:"json e xml"})]})]})})})]})},Oe=function(){return Object(p.jsx)(f.a,{children:Object(p.jsxs)("div",{className:be.a.container,children:[Object(p.jsx)(de,{}),Object(p.jsx)(_.b,{path:"/apis",component:pe}),Object(p.jsx)(_.b,{path:"/apis/receitas",component:me}),Object(p.jsx)(_.b,{path:"/apis/municipios",component:he})]})})},xe=a(60),fe=j.a.create({baseURL:"https://transparencia.tce.sp.gov.br/api/json"}),_e=a(32),ve=a.n(_e),ge=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/([^\w]+|\s+)/g,"-").replace(/\+/g,"-").replace(/(^-+|-+$)/,"")};var Ee=function(e){var t=e.name,c=e.month,s=e.year,r=Object(n.useState)(!1),i=Object(u.a)(r,2),d=i[0],j=i[1],b=Object(n.useState)(),m=Object(u.a)(b,2),h=m[0],O=m[1],x=Object(n.useRef)(null);Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),a=ge(t),e.prev=2,e.next=5,fe.get("/despesas/".concat(a,"/").concat(s,"/").concat(c+1));case 5:n=e.sent,r=n.data,setTimeout((function(){D("Tabela carregada"),j(!1)}),2e3),O(r),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),setTimeout((function(){M("Erro ao carregar tabela"),j(!1)}),2e3),e.abrupt("return",[null,e.t0]);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,c,s]);var f=[{align:"justify",field:"orgao",header:"\xd3rgao"},{align:"center",field:"mes",header:"M\xeas"},{align:"center",field:"evento",header:"Evento"},{align:"center",field:"nr_empenho",header:"N\xfamero do Empenho"},{align:"left",field:"id_fornecedor",header:"CPF / CNPJ"},{align:"left",field:"nm_fornecedor",header:"Nome do Fornecedor"},{align:"center",field:"dt_emissao_despesa",header:"Data do evento"},{align:"center",field:"vl_despesa",header:"Valor"}],_=f.map((function(e){return{title:e.header,dataKey:e.field}})),v=function(e,t){a.e(3).then(a.t.bind(null,296,7)).then((function(a){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(n,t+"_export_"+(new Date).getTime()+".xlsx")}))},g=Object(p.jsxs)("div",{className:"p-d-flex  export-buttons",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(p.jsx)(A.a,{type:"button",icon:"pi pi-file-o",onClick:function(){return e=!1,void x.current.exportCSV({selectionOnly:e});var e},className:"p-mr-2","data-pr-tooltip":"CSV"}),Object(p.jsx)(A.a,{type:"button",icon:"pi pi-file-excel",onClick:function(){Promise.all([a.e(1),a.e(2)]).then(a.t.bind(null,295,7)).then((function(e){var a={Sheets:{data:e.utils.json_to_sheet(h)},SheetNames:["data"]},n=e.write(a,{bookType:"xlsx",type:"array"});v(n,"despesas_".concat(t,"_").concat(c,"/").concat(s))}))},className:"p-button-success ","data-pr-tooltip":"Export to XLS"}),Object(p.jsx)(A.a,{type:"button",icon:"pi pi-file-pdf",onClick:function(){a.e(0).then(a.bind(null,219)).then((function(e){Promise.all([a.e(0),a.e(4)]).then(a.t.bind(null,294,7)).then((function(){var a=new e.default(0,0);a.autoTable(_,h),a.save("despesas_".concat(t,"_").concat(c,"/").concat(s,".pdf"))}))}))},className:"p-button-warning ","data-pr-tooltip":"Export to PDF"})]});return Object(p.jsx)(p.Fragment,{children:d?Object(p.jsx)($.a,{className:ve.a.custom,children:Object(p.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100%",height:"70%"})}):Object(p.jsxs)(Q.a,{className:ve.a.custom,children:[Object(p.jsx)(xe.a,{target:".export-buttons>button",position:"bottom"}),Object(p.jsx)(Y.a,{ref:x,value:h,header:g,paginator:!0,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,className:ve.a.table,children:f.map((function(e,t){return Object(p.jsx)(X.a,{style:{textAlign:e.align},field:e.field,header:e.header,sortable:!0},t)}))})]})})};var Se=function(e){var t=e.name,c=e.month,s=e.year,r=Object(n.useState)(!1),i=Object(u.a)(r,2),d=i[0],j=i[1],b=Object(n.useState)(),m=Object(u.a)(b,2),h=m[0],O=m[1],x=Object(n.useRef)(null),f=[{align:"left",field:"orgao",header:"\xd3rgao"},{align:"center",field:"mes",header:"M\xeas"},{align:"center",field:"ds_fonte_recurso",header:"Fonte de Recurso"},{align:"center",field:"ds_cd_aplicacao_fixo",header:"C\xf3digo de Aplica\xe7\xe3o Fixo"},{align:"justify",field:"ds_alinea",header:"Al\xednea"},{align:"justify",field:"ds_subalinea",header:"Subal\xednea"},{align:"center",field:"vl_arrecadacao",header:"Arrecada\xe7\xe3o"}],_=f.map((function(e){return{title:e.header,dataKey:e.field}}));Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),a=ge(t),e.prev=2,e.next=5,fe.get("/receitas/".concat(a,"/").concat(s,"/").concat(c+1));case 5:n=e.sent,r=n.data,setTimeout((function(){D("Tabela carregada"),j(!1)}),2e3),O(r),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),setTimeout((function(){M("Erro ao carregar tabela"),j(!1)}),2e3),e.abrupt("return",[null,e.t0]);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,c,s]);var v=function(e,t){a.e(3).then(a.t.bind(null,296,7)).then((function(a){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(n,t+"_export_"+(new Date).getTime()+".xlsx")}))},g=Object(p.jsxs)("div",{className:"p-d-flex  export-buttons",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(p.jsx)(A.a,{type:"button",icon:"pi pi-file-o",onClick:function(){return e=!1,void x.current.exportCSV({selectionOnly:e});var e},className:"p-mr-2","data-pr-tooltip":"CSV"}),Object(p.jsx)(A.a,{type:"button",icon:"pi pi-file-excel",onClick:function(){Promise.all([a.e(1),a.e(2)]).then(a.t.bind(null,295,7)).then((function(e){var a={Sheets:{data:e.utils.json_to_sheet(h)},SheetNames:["data"]},n=e.write(a,{bookType:"xlsx",type:"array"});v(n,"receitas_".concat(t,"_").concat(c,"/").concat(s))}))},className:"p-button-success","data-pr-tooltip":"Export to XLS"}),Object(p.jsx)(A.a,{type:"button",icon:"pi pi-file-pdf",onClick:function(){a.e(0).then(a.bind(null,219)).then((function(e){Promise.all([a.e(0),a.e(4)]).then(a.t.bind(null,294,7)).then((function(){var a=new e.default(0,0);a.autoTable(_,h),a.save("receitas_".concat(t,"_").concat(c,"/").concat(s,".pdf"))}))}))},className:"p-button-warning","data-pr-tooltip":"Export to PDF"})]});return Object(p.jsx)(p.Fragment,{children:d?Object(p.jsx)($.a,{className:ve.a.custom,children:Object(p.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100%",height:"70%"})}):Object(p.jsxs)(Q.a,{className:ve.a.custom,children:[Object(p.jsx)(xe.a,{target:".export-buttons>button",position:"bottom"}),Object(p.jsx)(Y.a,{ref:x,value:h,header:g,paginator:!0,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,className:ve.a.table,children:f.map((function(e,t){return Object(p.jsx)(X.a,{style:{textAlign:e.align},field:e.field,header:e.header,sortable:!0},t)}))})]})})},ye=a(40),ke=a.n(ye),Ne=new Date,Ce=Ne.getFullYear()-1,Pe=Ne.getMonth(),Te=function(){var e=Object(_.h)().id,t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(u.a)(r,2),d=i[0],j=i[1],m=Object(n.useState)([]),h=Object(u.a)(m,2),x=h[0],f=h[1],v=Object(_.g)(),g=O().cityId,E=[{value:"receitas",label:"Receitas"},{value:"despesas",label:"Despesas"}],S=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}];Object(n.useEffect)((function(){!function(){for(var e=[],t=0;t<=20;t++){var a=Ce-t,n={value:a,label:a};e.push(n)}f(e)}()}),[]);var y=Object(n.useState)(Ce),k=Object(u.a)(y,2),N=k[0],C=k[1],P=Object(n.useState)(Pe),w=Object(u.a)(P,2),R=w[0],L=w[1],U=Object(n.useState)("receitas"),I=Object(u.a)(U,2),F=I[0],D=I[1];function B(){return(B=Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.get("/stonks/cities/".concat(e));case 3:return a=t.sent,n=a.data.result,t.abrupt("return",s(n));case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[null,t.t0]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){B.apply(this,arguments)}()})),Object(n.useEffect)((function(){0!=g&&g!=e||j(!0)}),[e]);var M=c.map((function(t,a){var n=t.name,c=t.originalPortalUrl;return Object(p.jsxs)("section",{className:ke.a.cityContainer,children:[Object(p.jsxs)("p",{className:ke.a.title,children:[n,d?Object(p.jsx)(A.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",id:ke.a.btnEdit,onClick:function(){v.push("/save/city/".concat(e))}}):Object(p.jsx)(p.Fragment,{})]}),Object(p.jsx)("a",{href:c,rel:"noreferrer",target:"_blank",className:ke.a.link,children:"Portal de transpar\xeancia"}),Object(p.jsxs)("div",{className:ke.a.calendar,children:[Object(p.jsx)(ne.a,{theme:re,styles:ie,options:S,onChange:function(e){return L(e.value)},defaultValue:S[Pe],isSearchable:!1}),Object(p.jsx)(ne.a,{theme:re,styles:ie,options:x,onChange:function(e){return C(e.value)},defaultValue:x[0],isSearchable:!1})]}),Object(p.jsx)(ne.a,{styles:ie,theme:re,options:E,onChange:function(e){return D(e.value)},defaultValue:E[0],className:ke.a.typeSelect,isSearchable:!1}),"receitas"===F?Object(p.jsx)(Se,{year:N,month:R,name:n}):Object(p.jsx)(Ee,{year:N,month:R,name:n})]},a)}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{}),M]})},Ae=a.p+"static/media/homeImg.0cc894e7.svg",we=a(41),Re=a.n(we),Le=function(){return Object(p.jsxs)("div",{className:Re.a.homeContainer,children:[Object(p.jsxs)("div",{className:Re.a.intro,children:[Object(p.jsx)("h1",{className:Re.a.cabecalho,children:"STONKS"}),Object(p.jsxs)("p",{children:["Sistema Tribut\xe1rio Original de Navega\xe7\xe3o Keep Simple \xe9 um projeto criado pelo grupo Elit da"," ",Object(p.jsx)("abbr",{title:"Faculdade de Inform\xe1tica e Administra\xe7\xe3o\r Paulista",children:"FIAP"})," ",", que visa melhorar o sistema do"," ",Object(p.jsx)("abbr",{title:"Tribunal de Contas do Estado de S\xe3o\r Paulo",children:"TCESP"})," ","criando um portal de melhor acesso e facilidade tanto para quem trabalha quanto para quem utiliza."]}),Object(p.jsx)(f.b,{to:"/cities",className:Re.a.textBtn,children:Object(p.jsx)("li",{children:"Lista de Munic\xedpios"})})]}),Object(p.jsx)("div",{className:Re.a.monitor,children:Object(p.jsx)("img",{id:Re.a.monitorImg,src:Ae,alt:"Home Img"})})]})},Ue=a(21),Ie=a.n(Ue),Fe=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(u.a)(s,2),i=r[0],d=r[1],j=Object(n.useState)(!1),m=Object(u.a)(j,2),h=m[0],x=m[1],v=O().roles,g=Object(_.g)(),E=Object(n.useState)(!1),S=Object(u.a)(E,2),y=S[0],k=S[1];Object(n.useEffect)((function(){k("ROLE_ADMIN"===v)}),[v]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,b.get("/stonks/cities");case 4:return t=e.sent,a=t.data.result,setTimeout((function(){x(!1)}),3e3),e.abrupt("return",c(a));case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),setTimeout((function(){M("Problemas ao carregar municipios"),x(!1)}),3e3),e.abrupt("return",[null,e.t0]);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var N=a.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})).map((function(e,t){var a=e.cityId,n=e.name,c=e.imgUrl,s="/cities/".concat(a);return Object(p.jsxs)(f.b,{to:s,className:Ie.a.city,children:[Object(p.jsx)("img",{id:Ie.a.imgUrl,src:c,alt:n}),Object(p.jsx)("p",{id:Ie.a.name,children:n})]},t)}));return Object(p.jsxs)("main",{className:Ie.a.listContainer,children:[Object(p.jsx)(T.a,{}),Object(p.jsxs)("div",{className:Ie.a.search,children:[Object(p.jsx)("input",{type:"text",name:"search",onChange:function(e){return d(e.target.value)},value:i,placeholder:"Search city by name"}),Object(p.jsx)("div",{className:Ie.a.icon,children:Object(p.jsxs)("svg",{id:Ie.a.icon,viewBox:"0 0 100 100",children:[Object(p.jsx)("circle",{id:Ie.a.pie,cx:"45",cy:"45",r:"20"}),Object(p.jsx)("circle",{id:Ie.a.circle,cx:"45",cy:"45",r:"40"}),Object(p.jsx)("path",{id:Ie.a.line,d:"M45,45 L100,100"}),Object(p.jsx)("path",{id:Ie.a.line2,d:"M45,45 L100,100"})]})})]}),y&&Object(p.jsx)(A.a,{label:"Novo Munic\xedpio",icon:"pi pi-plus",id:Ie.a.addMunicipio,className:"p-button p-mr-2",onClick:function(){g.push("/save/city")}}),Object(p.jsx)("div",{className:Ie.a.result,children:h?Object(p.jsx)($.a,{className:Ie.a.load,children:Object(p.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100%",height:"100%"})}):N})]})},De=a(61),Be=a.n(De),Me=function(){var e=Object(n.useRef)(null),t=Object(_.g)(),a=O().singIn,c=function(){var n=Object(l.a)(o.a.mark((function n(c){var s,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,null===(s=e.current)||void 0===s||s.setErrors({}),n.next=4,a({login:c.login,password:c.password});case 4:r=localStorage.getItem("@Elit:city"),D("Logado com sucesso"),"0"!==r?t.push("/cities/".concat(r)):t.push("/cities"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),M("Erro ao logar");case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{}),Object(p.jsxs)(P.a,{ref:e,className:"form",onSubmit:c,id:Be.a.divLogin,children:[Object(p.jsx)("h3",{children:"LOGIN"}),Object(p.jsx)(I,{name:"login",type:"text",className:"inputField",id:Be.a.txtUser,placeholder:"Usu\xe1rio"}),Object(p.jsx)(I,{name:"password",type:"password",className:"inputField",id:Be.a.txtPass,placeholder:"Senha"}),Object(p.jsx)("button",{type:"submit",className:"btnEntrar",children:" Entrar "})]})]})},He=a.p+"static/media/404Image.642cc232.svg",Ke=a(87),Ve=a.n(Ke),We=function(){return Object(p.jsxs)("div",{className:Ve.a.notFound,children:[Object(p.jsx)("img",{src:He,alt:"Not Found"}),Object(p.jsx)("h1",{children:" N\xe3o achei essa pagina "}),Object(p.jsx)(f.b,{to:"/",children:" Quer voltar ?"})]})},qe=a.p+"static/media/denied.d1433533.svg",ze=a(88),Je=a.n(ze),Ge=function(){return Object(p.jsxs)("div",{className:Je.a.notFound,children:[Object(p.jsx)("img",{src:qe,alt:"Access Denied"}),Object(p.jsx)("h1",{children:" Voc\xea n\xe3o tem acesso a essa p\xe1gina "}),Object(p.jsx)(f.b,{to:"/",children:" Quer voltar ?"})]})},Xe=["component"],Ye=function(e){var t=e.component,a=Object(R.a)(e,Xe),n=O().roles;return Object(p.jsx)(_.b,Object(w.a)(Object(w.a)({},a),{},{render:function(e){return"ROLE_ADMIN"===n?Object(p.jsx)(t,Object(w.a)({},e)):Object(p.jsx)(_.a,{to:"/denied"})}}))},Qe=["component"],Ze=function(e){var t=e.component,a=Object(R.a)(e,Qe),n=O().cityId;return Object(p.jsx)(_.b,Object(w.a)(Object(w.a)({},a),{},{render:function(e){return n==e.match.params.id||0==n?Object(p.jsx)(t,Object(w.a)({},e)):Object(p.jsx)(_.a,{to:"/denied"})}}))},$e=function(){return Object(p.jsxs)(f.a,{children:[Object(p.jsx)(S,{}),Object(p.jsxs)(_.d,{children:[Object(p.jsx)(_.b,{exact:!0,path:"/",component:Le}),Object(p.jsx)(_.b,{exact:!0,path:"/about",component:C}),Object(p.jsx)(_.b,{exact:!0,path:"/login",component:Me}),Object(p.jsx)(_.b,{exact:!0,path:"/apis",component:Oe}),Object(p.jsx)(_.b,{exact:!0,path:"/cities",component:Fe}),Object(p.jsx)(_.b,{exact:!0,path:"/cities/:id",component:Te}),Object(p.jsx)(Ze,{exact:!0,path:"/save/city/:id?",component:G}),Object(p.jsx)(Ye,{exact:!0,path:"/users",component:ae}),Object(p.jsx)(Ye,{exact:!0,path:"/save/users/:id?",component:oe}),Object(p.jsx)(_.b,{exact:!0,path:"/denied",component:Ge}),Object(p.jsx)(_.b,{path:"*",component:We})]})]})};var et=function(){return Object(p.jsx)(x,{children:Object(p.jsx)($e,{})})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(et,{})}),document.getElementById("root"))},18:function(e,t,a){e.exports={container:"api_container__2kFOw",content:"api_content__eS_HS",description:"api_description__gNpAx",linkExemplo:"api_linkExemplo__1etRj",table:"api_table__3UMHv"}},19:function(e,t,a){e.exports={navbar:"nav_navbar__3EnAS",navbarList:"nav_navbarList__1Xc0j",item:"nav_item__2BEy7",btnLogin:"nav_btnLogin__21kJR",active:"nav_active__4fMTB"}},20:function(e,t,a){e.exports={navbar:"menu_navbar__2F7XV",lista:"menu_lista__3O0WZ",ancor:"menu_ancor__2i3Nt",linkDespesas:"menu_linkDespesas__2QDmf",linkReceitas:"menu_linkReceitas__1lYB7",linkMunicipios:"menu_linkMunicipios__PjMX2",active:"menu_active__EO4g4",inactive:"menu_inactive__1vLGj"}},21:function(e,t,a){e.exports={listContainer:"list_listContainer__2Bp8o",result:"list_result__CLUKm",load:"list_load__3yyVe",city:"list_city__1z9yV",imgUrl:"list_imgUrl__2FR4Q",name:"list_name__bDux_",search:"list_search__2V_v6",icon:"list_icon__bNBjd",pie:"list_pie__2dEJf",line:"list_line__1YPSD",circle:"list_circle__1DtyG",line2:"list_line2__1lFRY",addMunicipio:"list_addMunicipio__2T0ay",lineUp:"list_lineUp__ts2ir",pieAnimation:"list_pieAnimation__FzcRH"}},29:function(e,t,a){e.exports={about:"about_about__2MkHN",imagem:"about_imagem__3aPtt",information:"about_information__26eUu",itemList:"about_itemList__JJ11V"}},32:function(e,t,a){e.exports={custom:"table_custom__2H1UN",btn:"table_btn__328-i","p-button-success":"table_p-button-success__InbOC","table-header":"table_table-header__2wklO",back:"table_back__3F62r"}},33:function(e,t,a){e.exports={divNewUser:"newUser_divNewUser__399rb",txtUser:"newUser_txtUser__1aAHz",txtEmail:"newUser_txtEmail__2Vydf",txtPass:"newUser_txtPass__1vY5p",txtPhone:"newUser_txtPhone__1teQB",txtLocation:"newUser_txtLocation__18HNG",select:"newUser_select__3nIzK"}},39:function(e,t,a){e.exports={userContainer:"usersList_userContainer__2Awy7",title:"usersList_title__3mXEd",custom:"usersList_custom__Tzu_s",btn:"usersList_btn__1i1fb","p-button-success":"usersList_p-button-success__28NIk",back:"usersList_back__3mh_p",closeBtn:"usersList_closeBtn__2v79e",addUsuario:"usersList_addUsuario__1LCfg"}},40:function(e,t,a){e.exports={cityContainer:"detail_cityContainer__tKJlb",link:"detail_link__2by7H",expandAfter:"detail_expandAfter__1iCbm",expandBefore:"detail_expandBefore__26WL5",title:"detail_title__2pmOE",btnEdit:"detail_btnEdit__3Bf7G",calendar:"detail_calendar__3nzhp",typeSelect:"detail_typeSelect__2Q1wx"}},41:function(e,t,a){e.exports={homeContainer:"home_homeContainer__2VFOG",intro:"home_intro__1GXac",cabecalho:"home_cabecalho__5hv8d",textBtn:"home_textBtn__1NzBV",monitor:"home_monitor__37kZv",monitorImg:"home_monitorImg__zGBor"}},48:function(e,t,a){e.exports={divNewCity:"newCity_divNewCity__2_TFg",txtCity:"newCity_txtCity__emJYO",imageArea:"newCity_imageArea__2u1qb",txtURL:"newCity_txtURL__2co5j",btnCadastrar:"newCity_btnCadastrar__26lKQ"}},61:function(e,t,a){e.exports={divLogin:"login_divLogin__-zYs7",txtUser:"login_txtUser__3J6BC",txtPass:"login_txtPass__2Nj3m"}},65:function(e,t,a){},87:function(e,t,a){e.exports={notFound:"notFound_notFound__R7dMF"}},88:function(e,t,a){e.exports={notFound:"denied_notFound__voXS6"}},98:function(e,t,a){}},[[138,6,8]]]);
//# sourceMappingURL=main.deaaab99.chunk.js.map